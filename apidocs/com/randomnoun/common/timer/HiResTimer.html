<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Wed Dec 23 10:07:58 AEST 2020 -->
<title>HiResTimer (randomnoun common classes 1.0.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HiResTimer (randomnoun common classes 1.0.1 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HiResTimer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?com/randomnoun/common/timer/HiResTimer.html" target="_top">Frames</a></li>
<li><a href="HiResTimer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.randomnoun.common.timer</a></div>
<h2 title="Class HiResTimer" class="title">Class HiResTimer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.randomnoun.common.timer.HiResTimer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.53">HiResTimer</a>
extends java.lang.Object</pre>
<div class="block">This is some increasingly ancient code to provide microsecond timer resolution in Java 
 using JNI on Windows.
 
 <p>Java now provides this natively via System.nanoTime(), so all of this can and should be thrown out
 some day. 
 
 <p>Historical background: Java previously supplied only millisecond
 resolution, and on Windows this was only around 10-20 millisecond precision;
 approx 16ms (Win3.1), 55ms (ME/98/95) or 10ms (others)). Other platforms (Linux/Solaris)
 appear to provide real millisecond resolution.

 <p>This class uses JNI to access the Windows QueryPerformanceCounter API. It
 requires the HiResTimer.dll to be located in the VM's java.library.path. In order to
 work in WSAD, it will also examine the contents of the 'workspace.root' System
 property, and attempt to reference it from within the developer's build tree.

 <p>If the native library cannot be loaded, this class falls back to Java's
 standard timer implementation (System.currentTimeMillis).

 <p>Note that the Websphere reloading ClassLoader cannot deal with JNI,
 so this class must exist in an external classpath or JAR which is referenced from
 the system classpath. The Ant build task 'buildStartupJar' in ext/build.xml
 can compile the JNI and create this startup JAR.

 <hr/>

 <p>This file was based on the discussion at
 <br/><a href="http://www.fawcette.com/archives/premier/mgznarch/javapro/2001/08aug01/km0108/km0108-1.asp">
 http://www.fawcette.com/archives/premier/mgznarch/javapro/2001/08aug01/km0108/km0108-1.asp</a>

 <p>Some instructions on building JNI in a cygwin/gcc environment was found at
 <br/><a href="http://www.inonit.com/cygwin/jni/helloWorld/">
 http://www.inonit.com/cygwin/jni/helloWorld/</a>
 
 <p>Documentation on Windows APIs can be found in Windows 2003 Core API download, found at
 <br/><a href="http://www.microsoft.com/msdownload/platformsdk/sdkupdate/">
 http://www.microsoft.com/msdownload/platformsdk/sdkupdate/</a></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>knoxg</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">HiResTimer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getElapsedMillis(long,long)">getElapsedMillis</a></span>&#8203;(long&nbsp;timestamp1,
                long&nbsp;timestamp2)</code></th>
<td class="colLast">
<div class="block">Returns the elapsed time between two timestamps, as a integer number of
  milliseconds.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getElapsedNanos(long,long)">getElapsedNanos</a></span>&#8203;(long&nbsp;timestamp1,
               long&nbsp;timestamp2)</code></th>
<td class="colLast">
<div class="block">Returns the elapsed time between two timestamps, as a integer number of
  microseconds.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFrequency()">getFrequency</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the frequency of the available timer.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimestamp()">getTimestamp</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current value of the timer, as measured in the frequency supplied
 by <a href="#getFrequency()"><code>getFrequency()</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isHiResTimerAvailable()">isHiResTimerAvailable</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if the Windows HAL (Hardware Abstraction Layer) supports
 a high-resolution performance counter.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isNativeTimerAvailable()">isNativeTimerAvailable</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if we can use a natively-supplied timer, false otherwise</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#main(java.lang.String%5B%5D)">main</a></span>&#8203;(java.lang.String[]&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Test program.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HiResTimer</h4>
<pre>public&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.53">HiResTimer</a>()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getFrequency()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFrequency</h4>
<pre class="methodSignature">public static&nbsp;long&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.91">getFrequency</a>()</pre>
<div class="block">Return the frequency of the available timer.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The granularity of the timer, measured in ticks per second.</dd>
</dl>
</li>
</ul>
<a id="getTimestamp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestamp</h4>
<pre class="methodSignature">public static&nbsp;long&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.110">getTimestamp</a>()</pre>
<div class="block">Returns the current value of the timer, as measured in the frequency supplied
 by <a href="#getFrequency()"><code>getFrequency()</code></a>. The starting time for returned values is undefined
 (i.e. there is no fixed point for timestamp = 0); this value can only be used
 for relative timing only, or must be correlated with System.currentTimeMillis().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current value of the timer.</dd>
</dl>
</li>
</ul>
<a id="isNativeTimerAvailable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNativeTimerAvailable</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.123">isNativeTimerAvailable</a>()</pre>
<div class="block">Returns true if we can use a natively-supplied timer, false otherwise</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if we can use a natively-supplied timer, false otherwise</dd>
</dl>
</li>
</ul>
<a id="isHiResTimerAvailable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isHiResTimerAvailable</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.136">isHiResTimerAvailable</a>()</pre>
<div class="block">Returns true if the Windows HAL (Hardware Abstraction Layer) supports
 a high-resolution performance counter. Note that even if this returns false,
 we can fall back to a native counter, which is still more precise than
 the one that Java supplies.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if high resolution performance is available, false if not.</dd>
</dl>
</li>
</ul>
<a id="getElapsedMillis(long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElapsedMillis</h4>
<pre class="methodSignature">public static&nbsp;long&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.148">getElapsedMillis</a>&#8203;(long&nbsp;timestamp1,
                                    long&nbsp;timestamp2)</pre>
<div class="block">Returns the elapsed time between two timestamps, as a integer number of
  milliseconds.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the elapsed time between two timestamps, as a integer number of
  milliseconds.</dd>
</dl>
</li>
</ul>
<a id="getElapsedNanos(long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElapsedNanos</h4>
<pre class="methodSignature">public static&nbsp;long&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.159">getElapsedNanos</a>&#8203;(long&nbsp;timestamp1,
                                   long&nbsp;timestamp2)</pre>
<div class="block">Returns the elapsed time between two timestamps, as a integer number of
  microseconds.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the elapsed time between two timestamps, as a integer number of
  microseconds.</dd>
</dl>
</li>
</ul>
<a id="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;<a href="../../../../src-html/com/randomnoun/common/timer/HiResTimer.html#line.171">main</a>&#8203;(java.lang.String[]&nbsp;args)
                 throws java.lang.InterruptedException</pre>
<div class="block">Test program.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - Command-line options</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the Thread.sleep() call was interrupted</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HiResTimer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?com/randomnoun/common/timer/HiResTimer.html" target="_top">Frames</a></li>
<li><a href="HiResTimer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2020 <a href="http://www.randomnoun.com">randomnoun</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
