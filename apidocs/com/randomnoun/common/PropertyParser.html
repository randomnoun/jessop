<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Wed Dec 23 10:07:58 AEST 2020 -->
<title>PropertyParser (randomnoun common classes 1.0.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-12-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PropertyParser (randomnoun common classes 1.0.1 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":10,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PropertyParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../index.html?com/randomnoun/common/PropertyParser.html" target="_top">Frames</a></li>
<li><a href="PropertyParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.randomnoun.common</a></div>
<h2 title="Class PropertyParser" class="title">Class PropertyParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.randomnoun.common.PropertyParser</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <a href="../../../src-html/com/randomnoun/common/PropertyParser.html#line.139">PropertyParser</a>
extends java.lang.Object</pre>
<div class="block">The PropertyParser class parses a property definition text file into
 a Properties object.

 <p>This parser differs from the standard Properties parser in that
 sections can be marked off for particular regions (e.g. properties
 that only take effect in development, or when run on certain machines).
 The current region
 is specified by the <tt>com.randomnoun.common.mode</tt> system property
 set on the VM commandline. If this system property is not set,
 the region defaults to the value "<tt>localhost-dev-unknown</tt>".
 An alternate constructor exists if you
 wish to specify the region manually.

 <p>Environments are specified in '<i>machine-release-subsystem</i>'
 format, with each segment set as follows:
 <attributes>
 machine - the hostname of the system (in lowercase)
 release - the development phase of the system (either set to <tt>dev</tt>,
   <tt>xpt</tt>, <tt>prd</tt> for development, acceptance or production
 subsystem - the subsystem that this VM represents. 
 </attributes>

 <p>Properties are specified in the standard "propertyName=propertyValue" method.
 Whitespace is removed from either side of the '=' character. New-lines
 can be specified in the property value by using the escape sequence '\n'.
 Lines can be continued over a single line by placing the character '\' at
 at the end of the line to be continued; e.g.

 <pre style="code">
   property1=value1
   property2=this is a very long value for property2, which spans \
             over a single line.
 </pre>

 <p>Properties that are specific to a particular region should be surrounded
 by the lines "STARTENVIRONMENT environmentMask" and "ENDENVIRONMENT environmentMask".
 Individual properties can be defined for a region by prefixing the line
 with "ENV environmentMask"; e.g.

 <pre style="code">
   property1=all regions

   STARTENVIRONMENT *-xpt-*
     property2=this property only set in acceptance region
     property3=same for this property
   ENDENVIRONMENT

   STARTENVIRONMENT dtp11523-dev-*
     property2=these properties only set in the development region
     property3=running on the host dtp11523
   ENDENVIRONMENT

   ENV *-prd-* property4=this property only visible in production
 </pre>

 <p>As shown above, the '<tt>*</tt>' character can be used to specify a property
 across multiple regions. The keywords 'STARTENVIRONMENT', 'ENDENVIRONMENT' and
 'ENV' are case-insensitive
 
 <p>You can now also specify environments based on the values of previously-defined
 properties; this allows a simple <tt>#ifdef</tt> style facility. There are 
 two types of syntax, which use regex matching or simple string matching; e.g.
 
 <pre style="code">
   enable.fileAct=true
   compound.property=123-456-789
 
   STARTENVIRONMENT enable.fileAct = true
     # these properties are only set when enable.fileAct is set to true
   ENDENVIRONMENT
   STARTENVIRONMENT compound.property =~ *-789
     # these properties are only set when compound.property ends with -789
   ENDENVIRONMENT
 </pre>
 
 <p>Property files can contain any number of blank lines, or comments (lines
 starting with the '#' character), which will be ignored by the parser.

 <p>Any occurences of the string "<tt>\n</tt>" in a property value will be
 replaced by a newline character.

 <p>A property make also contain a List, rather than a string, by including the
 index of the list item in square brackets in the property key; e.g.

 <pre style="code">
   listname[1]=first element
   listname[3]=third element
 </pre>

 <p>This implementation returns an ArrayList of Strings for these types of declarations.
 Undeclared array elements that appear before the last index will return null.

 <p>If you want to create a list, but the index of the elements is unknown (they are 
 dependant on other properties, for example), then you can use a "*" to denote the
 next available list index, or leave it empty to denote the last used list index; e.g.
 
 <pre style="code">
 testList[0].a=a-value 0
 testList[0].b=b-value 0
 testList[0].c=a-value 0
  
 testList[1].a=a-value 1
 testList[1].b=b-value 1
 testList[1].c=a-value 1
  
 testList[*].a=a-value 2
 testList[].b=b-value 2
 testList[].c=a-value 2
 </pre>
 
 will generate a three-element list, each of which contains a map with three key/value pairs.

 <p>Properties that appear multiple times will take the value of the last-specified
 value.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>knoxg</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.log4j.Logger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#logger">logger</a></span></code></th>
<td class="colLast">
<div class="block">Logger instance for this class</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.io.Reader)">PropertyParser</a></span>&#8203;(java.io.Reader&nbsp;reader)</code></th>
<td class="colLast">
<div class="block">Create a new Parser object.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.io.Reader,java.lang.String)">PropertyParser</a></span>&#8203;(java.io.Reader&nbsp;reader,
              java.lang.String&nbsp;environmentID)</code></th>
<td class="colLast">
<div class="block">Create a new Parser object.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#main(java.lang.String%5B%5D)">main</a></span>&#8203;(java.lang.String[]&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Method used to test the parser from the command line.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Properties</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parse()">parse</a></span>()</code></th>
<td class="colLast">
<div class="block">Generates a Properties object from the input stream.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;? extends java.lang.Object,&#8203;? extends java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#restrict(java.util.Map,java.lang.String,boolean)">restrict</a></span>&#8203;(java.util.Map&lt;java.lang.Object,&#8203;java.lang.Object&gt;&nbsp;properties,
        java.lang.String&nbsp;prefix,
        boolean&nbsp;removePrefix)</code></th>
<td class="colLast">
<div class="block">Returns a subset of a Properties object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="logger">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logger</h4>
<pre>public static final&nbsp;org.apache.log4j.Logger <a href="../../../src-html/com/randomnoun/common/PropertyParser.html#line.142">logger</a></pre>
<div class="block">Logger instance for this class</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.io.Reader,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PropertyParser</h4>
<pre>public&nbsp;<a href="../../../src-html/com/randomnoun/common/PropertyParser.html#line.172">PropertyParser</a>&#8203;(java.io.Reader&nbsp;reader,
                      java.lang.String&nbsp;environmentID)</pre>
<div class="block">Create a new Parser object. Note that parsing does not begin until the
 Parse method is called on this object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - The source of the site definition text.</dd>
<dd><code>environmentID</code> - The environment ID in which to parse this text.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.io.Reader)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PropertyParser</h4>
<pre>public&nbsp;<a href="../../../src-html/com/randomnoun/common/PropertyParser.html#line.183">PropertyParser</a>&#8203;(java.io.Reader&nbsp;reader)</pre>
<div class="block">Create a new Parser object. Note that parsing does not begin until the
 Parse method is called on this object. Assumes a DEV environment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reader</code> - The source of the site definition text.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="parse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse</h4>
<pre class="methodSignature">public&nbsp;java.util.Properties&nbsp;<a href="../../../src-html/com/randomnoun/common/PropertyParser.html#line.195">parse</a>()
                           throws java.text.ParseException,
                                  java.io.IOException</pre>
<div class="block">Generates a Properties object from the input stream.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A valid Properties object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.text.ParseException</code></dd>
</dl>
</li>
</ul>
<a id="restrict(java.util.Map,java.lang.String,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restrict</h4>
<pre class="methodSignature">public static&nbsp;java.util.Map&lt;? extends java.lang.Object,&#8203;? extends java.lang.Object&gt;&nbsp;<a href="../../../src-html/com/randomnoun/common/PropertyParser.html#line.570">restrict</a>&#8203;(java.util.Map&lt;java.lang.Object,&#8203;java.lang.Object&gt;&nbsp;properties,
                                                                                                  java.lang.String&nbsp;prefix,
                                                                                                  boolean&nbsp;removePrefix)</pre>
<div class="block">Returns a subset of a Properties object. The subset is determined by only
 returning those key/value pairs whose keys begin with a set prefix. e.g.
 if 'a' contains the properties

 <attributes>
   customer.1.name=fish
   customer.1.description=Patagonian toothfish
   customer.2.name=hunter
   customer.2.description=Patagonian toothfish hunter
   customer.11.name=spear
   customer.11.description=Patagonian toothfish hunter's spear
 </attributes>

 <p>then calling <code>restrict(a, "customer.1", false)</code> will return:

 <attributes>
   customer.1.name=fish
   customer.1.description=Patagonian toothfish
 </attributes>

 <p>setting the 'removePrefix' to true will remove the initial prefix from
 the returned property list; <code>restrict(a, "customer.1", true)</code> in
 this case will then return:

 <attributes>
   name=fish
   description=Patagonian toothfish
 </attributes>

 <p>Note that the prefix passed in to this method has no trailing period,
 but each property must contain that period (to prevent <tt>customer.11</tt>
 from being returned in the example above).

 <p>If 'properties' is set to null, then this method will return null.
 If 'prefix' is set to null, then this method will return the entire property list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>properties</code> - The initial property list that we wish to restrict</dd>
<dd><code>prefix</code> - The prefix used to restrict the property list</dd>
<dd><code>removePrefix</code> - If set to true, the result keys will be stripped of the initial prefix text</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A restricted property list.</dd>
</dl>
</li>
</ul>
<a id="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;<a href="../../../src-html/com/randomnoun/common/PropertyParser.html#line.614">main</a>&#8203;(java.lang.String[]&nbsp;args)
                 throws java.io.IOException,
                        java.text.ParseException</pre>
<div class="block">Method used to test the parser from the command line. The file to parse is
 specified on the command line; if missing, then it uses 'test.properties'
 as the default.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.text.ParseException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PropertyParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../index.html?com/randomnoun/common/PropertyParser.html" target="_top">Frames</a></li>
<li><a href="PropertyParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2013&#x2013;2020 <a href="http://www.randomnoun.com">randomnoun</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
